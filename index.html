<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="description" content="Grell-Freitas Parametrization">
    <meta name="author" content="The GCC-INPE's  Team" >
    <link rel="icon" href="./favicon.png">

    <title> GF_standalone </title>

    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/pygments.css" rel="stylesheet">
    <link href="./css/font-awesome.min.css" rel="stylesheet">
    <link href="./css/local.css" rel="stylesheet">
    <link  href="./tipuesearch/tipuesearch.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="./js/jquery-2.1.3.min.js"></script>
    <script src="./js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./index.html">GF_standalone </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
            <li><a href="./lists/files.html">Source Files</a></li>
            <li><a href="./lists/modules.html">Modules</a></li>
            <li><a href="./lists/procedures.html">Procedures</a></li>
                   <li><a href="./lists/types.html">Derived Types</a></li>
            <li><a href="./program/testmodconvpargf.html">Program</a></li>
       
            </ul>
        
            </li>
<li class="visible-xs hidden-sm visible-lg"><a href="./lists/files.html">Source Files</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="./lists/modules.html">Modules</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="./lists/procedures.html">Procedures</a></li>
                             <li class="visible-xs hidden-sm visible-lg"><a href="./lists/types.html">Derived Types</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="./program/testmodconvpargf.html">Program</a></li>
          </ul>
        <form action="./search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron">
        <p>Grell-Freitas Parametrization</p>
	<p> Find us on&hellip;</p>
        <p>
          <a class="btn btn-lg btn-primary" href="[GitHub - monanadmin/GF_standalone: Parametrização de Grell-Freitas Standalone](https://github.com/monanadmin/GF_standalone)" role="button">GitHub</a>
          <a class="btn btn-lg btn-primary" href="no_website" role="button">The Web</a>
        </p>
      </div>

      <div class="row" id='text'>
        <div class="col-md-8">
          <h1>GF_standalone</h1>
          <p>This convective parameterization is build to attempt                    <br>
  a smooth transition to cloud resolving scales as proposed               <br>
  by Arakawa et al (2011, ACP). The scheme is  described                  <br>
  in the paper Grell and Freitas (ACP, 2014).                               </p>
<p>Implemented in GEOS5 GCM by Saulo Freitas (July 2016)                   <br>
 Use the following references for this implementation:                   <br>
 Freitas et al (2018, JAMES/AGU, https://doi.org/10.1029/2017MS001251)   <br>
 Freitas et al (2021, GMD/EGU,   https://doi.org/10.5194/gmd-14-5393-2021) 
 Please, contact Saulo Freitas (saulo.r.de.freitas@gmail.com) for comments 
  questions, bugs, etc.                                                     </p>
<p>Adapted for BRAMS 6.0 by Saulo Freitas (November 2021)                  <br>
  Refactoring by Luiz Flavio Rodrigues at 20 December 2021 (Monday)       <br>
 Keywords using ; are separeted, some loops receives exit instead goto,  <br>
  The identation was fixed and all keywords are lowercase                   </p>
<p>Refactoring by GCC (INPE) at 20 January 2023 using fprettify and manual
 changes according MONAN rules code patterns DTN 01</p>
<p>This convective parameterization is build to attempt</p>
<p>!! a smooth transition to cloud resolving scales as proposed</p>
<p>!! by Arakawa et al (2011, ACP). The scheme is described</p>
<p>!! in the paper Grell and Freitas (ACP, 2014).</p>
<p>!!</p>
<p>!! Implemented in GEOS5 GCM by Saulo Freitas (July 2016)</p>
<p>!! Use the following references for this implementation:</p>
<p>!! Freitas et al (2018, JAMES/AGU, https://doi.org/10.1029/2017MS001251)</p>
<p>!! Freitas et al (2021, GMD/EGU, https://doi.org/10.5194/gmd-14-5393-2021)</p>
<p>!! Please, contact Saulo Freitas (saulo.r.de.freitas@gmail.com) for comments</p>
<p>!! questions, bugs, etc.</p>
<p>!!</p>
<p>!! Adapted for BRAMS 6.0 by Saulo Freitas (November 2021)</p>
<p>!! Refactoring by Luiz Flavio Rodrigues at 20 December 2021 (Monday)</p>
<p>!! Keywords using ; are separeted, some loops receives exit instead goto,</p>
<p>!! The identation was fixed and all keywords are lowercase</p>
<p>!!</p>
<p>!! Refactoring by GCC (INPE) at 20 January 2023 using fprettify and manual</p>
<p>!! changes according MONAN rules code patterns DTN 01</p>
<div class="codehilite"><pre><span></span><code><span class="o">+</span> <span class="nv">Radiation</span>:  <span class="nv">CARMA</span> <span class="ss">(</span><span class="nv">Toon</span> <span class="nv">et</span> <span class="nv">al</span>., <span class="mi">1988</span><span class="ss">)</span> <span class="nv">and</span> <span class="nv">RRTMG</span> <span class="ss">(</span><span class="nv">Iacono</span> <span class="nv">et</span> <span class="nv">al</span>., <span class="mi">2008</span><span class="ss">)</span> <span class="nv">schemes</span> <span class="k">for</span> <span class="nv">long</span><span class="o">-</span> <span class="nv">and</span> <span class="nv">short</span><span class="o">-</span><span class="nv">wave</span>, <span class="nv">including</span> <span class="nv">aerosols</span> <span class="nv">effects</span> <span class="nv">and</span> <span class="nv">coupled</span> <span class="nv">with</span> <span class="nv">microphysics</span> <span class="nv">and</span> <span class="nv">convection</span> <span class="nv">schemes</span>
<span class="o">+</span> <span class="nv">Microphysics</span>: <span class="nv">a</span> <span class="nv">double</span> <span class="nv">moment</span> <span class="nv">from</span> <span class="nv">RAMS</span> <span class="nv">CSU</span> <span class="nv">version</span>, <span class="nv">Thompson</span> <span class="nv">double</span> <span class="nv">moment</span> <span class="nv">and</span> <span class="nv">aerosol</span> <span class="nv">aware</span> <span class="ss">(</span><span class="nv">Thompson</span> <span class="nv">and</span> <span class="nv">Eidhammer</span>, <span class="mi">2014</span><span class="ss">)</span>.
<span class="o">+</span> <span class="nv">Convection</span> <span class="nv">schemes</span>:  <span class="nv">Souza</span> <span class="ss">(</span><span class="mi">1999</span><span class="ss">)</span> <span class="k">for</span> <span class="nv">shallow</span> <span class="nv">convection</span>, <span class="nv">Grell</span> <span class="nv">and</span> <span class="nv">Deveny</span> <span class="ss">(</span><span class="mi">2002</span><span class="ss">)</span> <span class="k">for</span> <span class="nv">deep</span> <span class="nv">convection</span> <span class="nv">and</span> <span class="nv">Grell</span> <span class="nv">and</span> <span class="nv">Freitas</span> <span class="ss">(</span><span class="mi">2014</span><span class="ss">)</span> <span class="nv">scale</span> <span class="nv">and</span> <span class="nv">aerosol</span> <span class="nv">aware</span> <span class="k">for</span> <span class="nv">deep</span> <span class="nv">and</span> <span class="nv">shallow</span> <span class="nv">convection</span> <span class="nv">including</span> <span class="nv">convective</span> <span class="nv">transport</span> <span class="nv">and</span> <span class="nv">wet</span> <span class="nv">removal</span> <span class="nv">of</span> <span class="nv">tracers</span>.
<span class="o">+</span> <span class="nv">Turbulence</span> <span class="nv">parameterizations</span>: <span class="nv">Nakanishi</span> <span class="o">&amp;</span> <span class="nv">Nino</span> <span class="ss">(</span><span class="mi">2004</span><span class="ss">)</span> <span class="nv">TKE</span> <span class="nv">based</span> <span class="nv">formulation</span>, <span class="nv">Taylor</span>’<span class="nv">s</span> <span class="nv">theory</span> <span class="nv">based</span> <span class="nv">formulation</span> <span class="ss">(</span><span class="nv">Campos</span> <span class="nv">Velho</span>, <span class="mi">1998</span><span class="ss">)</span>.
<span class="o">+</span> <span class="nv">Surface</span> <span class="nv">interaction</span> <span class="nv">and</span> <span class="nv">carbon</span> <span class="nv">cycle</span>: <span class="nv">TEB</span> <span class="ss">(</span><span class="nv">Town</span> <span class="nv">Energy</span> <span class="nv">Budget</span><span class="ss">)</span> <span class="nv">scheme</span> <span class="nv">to</span> <span class="nv">simulate</span> <span class="nv">urban</span> <span class="nv">areas</span> <span class="ss">(</span><span class="nv">Freitas</span> <span class="nv">et</span> <span class="nv">al</span>., <span class="mi">2007</span><span class="ss">)</span> <span class="nv">and</span> <span class="nv">the</span> <span class="nv">Joint</span> <span class="nv">UK</span> <span class="nv">Land</span> <span class="nv">Environment</span> <span class="nv">Simulator</span> <span class="ss">(</span><span class="nv">JULES</span><span class="ss">)</span> <span class="nv">model</span> <span class="ss">(</span><span class="nv">Moreira</span> <span class="nv">et</span> <span class="nv">al</span>. <span class="mi">2013</span><span class="ss">)</span>.
<span class="o">+</span> <span class="nv">In</span><span class="o">-</span><span class="nv">line</span> <span class="nv">emission</span>, <span class="nv">deposition</span>, <span class="nv">transport</span> <span class="nv">and</span> <span class="nv">chemistry</span> <span class="nv">model</span> <span class="ss">(</span><span class="nv">CCATT</span><span class="ss">)</span> <span class="k">for</span> <span class="nv">atmospheric</span> <span class="nv">composition</span> <span class="nv">and</span> <span class="nv">air</span> <span class="nv">pollution</span> <span class="nv">studies</span> <span class="ss">(</span><span class="nv">Longo</span> <span class="nv">et</span> <span class="nv">al</span>., <span class="mi">2013</span><span class="ss">)</span>.
</code></pre></div>

<p>Besides, BRAMS includes the following features:</p>
<div class="codehilite"><pre><span></span><code><span class="o">+</span> <span class="nv">Highly</span> <span class="nv">accurate</span> <span class="nv">and</span> <span class="nv">monotonic</span> <span class="nv">scheme</span> <span class="ss">(</span><span class="nv">Walcek</span> <span class="mi">2000</span>, <span class="nv">Freitas</span> <span class="nv">et</span> <span class="nv">al</span>. <span class="mi">2012</span><span class="ss">)</span> <span class="k">for</span> <span class="nv">advection</span> <span class="nv">of</span> <span class="nv">scalars</span>.
<span class="o">+</span> <span class="nv">Complete</span>, <span class="nv">mass</span> <span class="nv">conservative</span> <span class="nv">formulation</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">Exner</span> <span class="nv">function</span> <span class="nv">prognostic</span> <span class="nv">equation</span> <span class="ss">(</span><span class="nv">Medvigy</span> <span class="nv">et</span> <span class="nv">al</span>. <span class="mi">2005</span><span class="ss">)</span>.
<span class="o">+</span> <span class="nv">mComputational</span> <span class="nv">Scalability</span>: <span class="nv">high</span> <span class="nv">efficiency</span> <span class="nv">up</span> <span class="nv">to</span> ∼<span class="mi">10000</span> <span class="nv">cores</span> <span class="nv">with</span> <span class="nv">the</span> <span class="nv">MPI</span> <span class="nv">approach</span>.
<span class="o">+</span> <span class="nv">Digital</span> <span class="nv">filter</span> <span class="k">for</span> <span class="nv">model</span> <span class="nv">initialization</span>.
<span class="o">+</span> <span class="nv">Model</span> <span class="nv">output</span> <span class="nv">at</span> <span class="nv">GrADS</span> <span class="nv">format</span> <span class="nv">during</span> <span class="nv">the</span> <span class="nv">model</span> <span class="nv">run</span> <span class="nv">time</span>.
<span class="o">+</span> <span class="nv">Coupling</span> <span class="nv">with</span> <span class="nv">the</span> <span class="nv">STILT</span> <span class="nv">Lagrangian</span> <span class="nv">Particle</span> <span class="nv">Dispersion</span> <span class="nv">Modelling</span>.
<span class="o">+</span> <span class="nv">Output</span> <span class="nv">to</span> <span class="nv">drive</span> <span class="nv">air</span> <span class="nv">parcels</span> <span class="nv">trajectory</span> <span class="nv">model</span> <span class="nv">calculation</span>.
</code></pre></div>

<p></p><div class="alert alert-info" role="alert"><h4>Note</h4><p><strong> A BRAMS guide for Beginners (First Time users) - Version 5.2.5</strong><br/>
<strong> How to Install </strong> <br/></p>
<hr>
<p><strong>1. Introduction</strong><br/>
This page will guide You to install software infrastructure and BRAMS model. BRAMS code is distributed under CC-GPL License. You can download, copy, modify and redistribute the code. Some rights are reserved. We recommend the user to read the license terms on site Creative Commons. BRAMS works with Linux or Unix operational’s systems. As a first approach, we recommend the Linux UBUNTU flavours distribution: UBUNTU <a href="https://www.ubuntu.com/download/desktop?">https://www.ubuntu.com/download/desktop?</a>, XUBUNTU <a href="https://xubuntu.org/download/">https://xubuntu.org/download/</a>, LUBUNTU <a href="https://lubuntu.net/downloads/">https://lubuntu.net/downloads/</a> or MATE <a href="https://ubuntu-mate.org/download/">https://ubuntu-mate.org/download/</a>. <br/>
Please, read carefully each of the steps below in order to install and run the model.</p>
<hr>
<p><strong>2. Install Fortran and C Compilers</strong> <br/>
BRAMS has been tested with the compilers: INTEL compilers <a href="https://software.intel.com/en-us/fortran-compilers/try-buy">https://software.intel.com/en-us/fortran-compilers/try-buy</a>, PGI compilers <a href="https://www.pgroup.com/products/community.htm">https://www.pgroup.com/products/community.htm</a> and GNU Fortran compiler (GPL) <a href="https://gcc.gnu.org/fortran/">https://gcc.gnu.org/fortran/</a> or <a href="https://askubuntu.com/questions/358907/how-do-i-install-gfortran">https://askubuntu.com/questions/358907/how-do-i-install-gfortran</a>. Follow the instructions of each site to install the compilers.</p>
<hr>
<p><strong>3. Install MPI Libraries and Software</strong> <br/>
BRAMS works only in parallel mode. One can run the model using a single processor/core, but must to do it using MPI with the MPIRUN command. We recommend download and install the last version of MPICH stable release. The last working version is 3.2.1. You may have problems with new versions. Also take care to choose the correct version to your OS.</p>
<p>After download the MPICH in <a href="https://www.mpich.org/downloads/">https://www.mpich.org/downloads/</a>, please, proceed the installation:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">Uncompress</span><span class="o">:</span><span class="w"> </span><span class="o">~</span><span class="err">\</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">tar</span><span class="w"> </span><span class="nt">-zxvf</span><span class="w"> </span><span class="nt">mpich-3</span><span class="p">.</span><span class="nc">1</span><span class="p">.</span><span class="nc">4</span><span class="p">.</span><span class="nc">tar</span><span class="p">.</span><span class="nc">gz</span><span class="w"></span>
<span class="nt">goto</span><span class="w"> </span><span class="nt">mpich</span><span class="w"> </span><span class="nt">directory</span><span class="o">:</span><span class="w"> </span><span class="o">~</span><span class="err">\</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">cd</span><span class="w"> </span><span class="nt">mpich-3</span><span class="p">.</span><span class="nc">1</span><span class="p">.</span><span class="nc">4</span><span class="w"></span>
<span class="nt">Configure</span><span class="w"> </span><span class="nt">mpich</span><span class="err">’</span><span class="nt">s</span><span class="w"> </span><span class="nt">makefile</span><span class="o">:</span><span class="w"> </span><span class="o">~</span><span class="err">\</span><span class="o">&gt;</span><span class="w"> </span><span class="o">./</span><span class="nt">configure</span><span class="w"> </span><span class="nt">-disable-fast</span><span class="w"> </span><span class="nt">CFLAGS</span><span class="o">=</span><span class="nt">-O2</span><span class="w"> </span><span class="nt">FFLAGS</span><span class="o">=</span><span class="nt">-O2</span><span class="w"> </span><span class="nt">CXXFLAGS</span><span class="o">=</span><span class="nt">-O2</span><span class="w"> </span><span class="nt">FCFLAGS</span><span class="o">=</span><span class="nt">-O2</span><span class="w"> </span><span class="nt">-prefix</span><span class="o">=/</span><span class="nt">opt</span><span class="o">/</span><span class="nt">mpich3</span><span class="w"> </span><span class="nt">CC</span><span class="o">=</span><span class="nt">icc</span><span class="w"> </span><span class="nt">FC</span><span class="o">=</span><span class="nt">ifort</span><span class="w"> </span><span class="nt">F77</span><span class="o">=</span><span class="nt">ifort</span><span class="w"></span>
<span class="nt">make</span><span class="w"> </span><span class="nt">and</span><span class="w"> </span><span class="nt">install</span><span class="o">:</span><span class="w"> </span><span class="o">~</span><span class="err">\</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">make</span><span class="o">;</span><span class="w"> </span><span class="o">~</span><span class="err">\</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">sudo</span><span class="w"> </span><span class="nt">make</span><span class="w"> </span><span class="nt">install</span><span class="w"></span>
</code></pre></div>

<p>Notes:</p>
<div class="codehilite"><pre><span></span><code>-prefix= directory where mpich will be installed when You make the install command;
 CC= C compiler according You install on step (2) above;
FC= Fortran compiler according You install on step (2) above;
F77= Use the same as FC
</code></pre></div>

<hr>
<p><strong>4. Download and compile the BRAMS Model</strong> <br/>
To download BRAMS, you must fill a form with your identification. Go to BRAMS page in <a href="http://brams.cptec.inpe.br/get-started/download-requisition/">http://brams.cptec.inpe.br/get-started/download-requisition/</a> fill the form and get the model.
After download the code, the instalation of BRAMS code is the following:</p>
<div class="codehilite"><pre><span></span><code><span class="k">extract</span><span class="w"> </span><span class="nl">files</span><span class="p">:</span><span class="w"> </span><span class="o">~</span><span class="err">\</span><span class="o">&gt;</span><span class="n">tar</span><span class="w"> </span><span class="o">-</span><span class="n">zxvf</span><span class="w"> </span><span class="n">brams</span><span class="o">-</span><span class="mf">5.2.5</span><span class="o">-</span><span class="n">src</span><span class="p">.</span><span class="n">tgz</span><span class="w"></span>
<span class="k">go</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="nl">directory</span><span class="p">:</span><span class="w"> </span><span class="o">~</span><span class="err">\</span><span class="o">&gt;</span><span class="n">cd</span><span class="w"> </span><span class="n">BRAMS</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="w"></span>
<span class="n">configure</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">model</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="nl">makefile</span><span class="p">:</span><span class="w"> </span><span class="o">~</span><span class="err">\</span><span class="o">&gt;</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">configure</span><span class="w"> </span><span class="o">-</span><span class="n">program</span><span class="o">-</span><span class="k">prefix</span><span class="o">=</span><span class="n">BRAMS</span><span class="w"> </span><span class="o">-</span><span class="k">prefix</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">xuser</span><span class="w"> </span><span class="o">-</span><span class="n">enable</span><span class="o">-</span><span class="n">jules</span><span class="w"> </span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">chem</span><span class="o">=</span><span class="n">RELACS_TUV</span><span class="w"> </span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">aer</span><span class="o">=</span><span class="n">SIMPLE</span><span class="w"> </span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">fpcomp</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">mpich3</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">mpif90</span><span class="w"> </span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">cpcomp</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">mpich3</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">mpicc</span><span class="w"> </span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">fcomp</span><span class="o">=</span><span class="n">ifort</span><span class="w"> </span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">ccomp</span><span class="o">=</span><span class="n">icc</span><span class="w"></span>
<span class="n">make</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="nl">install</span><span class="p">:</span><span class="w"> </span><span class="o">~</span><span class="err">\</span><span class="o">&gt;</span><span class="n">make</span><span class="p">;</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">install</span><span class="w"></span>
</code></pre></div>

<p>Notes:</p>
<div class="codehilite"><pre><span></span><code>-prefix= directory where BRAMS will be installed when You make the install command;

-with-chem= The chemical to be used (RELACS_TUV, RELACS_MX, CB07_LUT, CB07_TUV, RACM_TUV)

-with-aer= aerosol mechanism (SIMPLE or MATRIX(under test))

-with-fpcomp= and –with-cpcomp= mpich parallel compiler installed on step 3 above.

-with-fcomp= and –with-ccomp= compiler installed on step 2 above.
</code></pre></div>

<p></p></div>
<p>
<p></p><div class="alert alert-danger" role="alert"><h4>Bug</h4><p>If You find any bugs please, send an email to:</p>
<ul>
<li><a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#98;&#114;&#97;&#109;&#115;&#45;&#104;&#101;&#108;&#112;&#64;&#99;&#112;&#116;&#101;&#99;&#46;&#105;&#110;&#112;&#101;&#46;&#98;&#114;">&#98;&#114;&#97;&#109;&#115;&#45;&#104;&#101;&#108;&#112;&#64;&#99;&#112;&#116;&#101;&#99;&#46;&#105;&#110;&#112;&#101;&#46;&#98;&#114;</a></li>
</ul>
<p></p></div>
<p>
<p><strong>How to Run the BRAMS Model</strong>:</p>
<p>Before run the model, You must get the input data. There are two packages for initial tests:</p>
<ul>
<li>
<p>Small meteorological case for laptops and desktops (722MB)Click to get it:
  <a href="ftp://ftp.cptec.inpe.br/brams/BRAMS/data/meteo-only.tgz">ftp://ftp.cptec.inpe.br/brams/BRAMS/data/meteo-only.tgz</a></p>
</li>
<li>
<p>Small chemical case (using RELACS_TUV) for laptops and desktops (945 MB):
  <a href="ftp://ftp.cptec.inpe.br/brams/BRAMS/data/meteo-chem.tgz">ftp://ftp.cptec.inpe.br/brams/BRAMS/data/meteo-chem.tgz</a></p>
</li>
</ul>
<p>Both cases are just for testing and learning processes. To get data for any different runs, visit the Input Data page in <a href="http://brams.cptec.inpe.br/input-data/">http://brams.cptec.inpe.br/input-data/</a>.</p>
<div class="codehilite"><pre><span></span><code><span class="n">After</span><span class="w"> </span><span class="n">downloading</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">case</span><span class="p">,</span><span class="w"> </span><span class="n">uncompress</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="err">“</span><span class="n">tar</span><span class="err">”</span><span class="p">:</span><span class="w"> </span><span class="o">~&gt;</span><span class="w"> </span><span class="n">tar</span><span class="w"> </span><span class="o">-</span><span class="n">zxvf</span><span class="w"> </span><span class="n">meteo</span><span class="o">-</span><span class="n">only</span><span class="o">.</span><span class="n">tgz</span><span class="w"></span>
<span class="n">Goto</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">directory</span><span class="p">:</span><span class="w"> </span><span class="o">~&gt;</span><span class="n">cd</span><span class="w"> </span><span class="n">meteo</span><span class="o">-</span><span class="n">only</span><span class="w"></span>
<span class="n">Make</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="p">(</span><span class="n">necessary</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">Jules</span><span class="p">):</span><span class="w"> </span><span class="o">~&gt;</span><span class="n">mkdir</span><span class="w"> </span><span class="o">./</span><span class="n">tmp</span><span class="w"></span>
<span class="n">Export</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="p">(</span><span class="n">especially</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">NOT</span><span class="w"> </span><span class="n">locally</span><span class="w"> </span><span class="o">!</span><span class="p">):</span><span class="w"> </span><span class="o">~&gt;</span><span class="k">export</span><span class="w"> </span><span class="n">TMPDIR</span><span class="o">=./</span><span class="n">tmp</span><span class="w"></span>
<span class="n">Take</span><span class="w"> </span><span class="n">care</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">machine</span><span class="o">.</span><span class="w"> </span><span class="n">Make</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="mi">65536</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">unlimited</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="o">~&gt;</span><span class="n">ulimit</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="mi">65536</span><span class="w"></span>
<span class="n">Run</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">mpirun</span><span class="w"> </span><span class="n">installed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="w"> </span><span class="o">~&gt;/</span><span class="n">opt</span><span class="o">/</span><span class="n">mpich3</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">mpirun</span><span class="w"> </span><span class="o">-</span><span class="n">np</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">./</span><span class="n">brams</span><span class="o">-</span><span class="mf">5.2</span><span class="o">.</span><span class="mi">5</span><span class="w"></span>
</code></pre></div>

<p>Notes:</p>
<div class="codehilite"><pre><span></span><code><span class="o">-</span><span class="n">np</span><span class="o">=</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">cores</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">use</span><span class="p">.</span><span class="w"></span>
<span class="k">If</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nl">command</span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="w"> </span><span class="n">lscpu</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">CPU</span><span class="p">(</span><span class="n">s</span><span class="p">))</span><span class="w"></span>

<span class="p">.</span><span class="o">/</span><span class="n">brams</span><span class="o">-</span><span class="mf">5.2.5</span><span class="w"> </span><span class="err">–</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">BRAM</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">executable</span><span class="w"> </span><span class="n">code</span><span class="p">.</span><span class="w"> </span><span class="n">Please</span><span class="p">,</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">code</span><span class="p">.</span><span class="w"></span>

<span class="k">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lot</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">printed</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">screen</span><span class="p">,</span><span class="w"> </span><span class="n">Pay</span><span class="w"> </span><span class="n">attention</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">errors</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">printed</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">run</span><span class="p">.</span><span class="w"></span>

<span class="k">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">got</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">help</span><span class="p">,</span><span class="w"> </span><span class="n">please</span><span class="p">,</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">e</span><span class="o">-</span><span class="n">mail</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">brams_help</span><span class="nv">@cptec</span><span class="p">.</span><span class="n">inpe</span><span class="p">.</span><span class="n">br</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">inform</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="w"> </span><span class="n">Please</span><span class="p">,</span><span class="w"> </span><span class="n">attach</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="n">printed</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">screen</span><span class="p">.</span><span class="w"></span>
</code></pre></div>

<p><strong>Visualize the results with GrADS</strong>:</p>
<p>BRAMS, by default, writes the output in subdirectory dataout/POSPROCESS. Later you can set others directories and features on namelist file (expert users). The format of the output in POS is in GrADS software (COLA/IGES). You must install GrADS in your computer.</p>
<p>Get the software from OpenGrads and install it on your computer, or, if You use UBUNTU You can get grads using: ~&gt; sudo apt-get install grads</p>
<p>After install, please:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Goto</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="n">directory</span><span class="p">:</span><span class="w"> </span><span class="o">~</span>\<span class="o">&gt;</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="n">dataout</span><span class="o">/</span><span class="n">POSPROCESS</span><span class="w"></span>
<span class="n">Run</span><span class="w"> </span><span class="n">grads</span><span class="w"> </span><span class="n">software</span><span class="p">:</span><span class="w"> </span><span class="o">~</span>\<span class="o">&gt;</span><span class="w"> </span><span class="n">grads</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w"></span>
<span class="n">When</span><span class="w"> </span><span class="n">grads</span><span class="w"> </span><span class="n">prompt</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">terminal</span><span class="w"> </span><span class="p">(</span><span class="n">ga</span><span class="o">-&gt;</span><span class="p">),</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">choose</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">listing</span><span class="p">:</span><span class="w"> </span><span class="n">ga</span><span class="o">-&gt;</span><span class="w"> </span><span class="o">!</span><span class="n">ls</span><span class="w"> </span><span class="o">-</span><span class="n">latr</span><span class="w"> </span><span class="o">*.</span><span class="n">ctl</span><span class="w"></span>
<span class="n">Choose</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">it</span><span class="p">:</span><span class="w"> </span><span class="n">ga</span><span class="o">-&gt;</span><span class="n">open</span><span class="w"> </span><span class="n">METEO</span><span class="o">-</span><span class="n">ONLY</span><span class="o">-</span><span class="n">A</span><span class="o">-</span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">27</span><span class="o">-</span><span class="mi">030000</span><span class="o">-</span><span class="n">g1</span><span class="o">.</span><span class="n">ctl</span><span class="w"> </span><span class="p">(</span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">example</span><span class="p">)</span><span class="w"></span>
<span class="n">after</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">LON</span><span class="p">,</span><span class="w"> </span><span class="n">LAT</span><span class="p">,</span><span class="w"> </span><span class="n">LEV</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="o">.</span><span class="w"></span>
<span class="n">list</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">output</span><span class="p">:</span><span class="w"> </span><span class="n">ga</span><span class="o">-&gt;</span><span class="n">q</span><span class="w"> </span><span class="n">file</span><span class="w"></span>
<span class="n">Choose</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">proceed</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">plot</span><span class="p">:</span><span class="w"> </span><span class="n">ga</span><span class="o">-&gt;</span><span class="n">d</span><span class="w"> </span><span class="n">tempc</span><span class="w"> </span><span class="p">(</span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">plotting</span><span class="w"> </span><span class="n">tempc</span><span class="w"> </span><span class="err">–</span><span class="w"> </span><span class="n">temperature</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>You can see more information about Grads on Cola: Grads User’s Guide</p>
        </div>
        <div class="col-md-4">
	  <div class="well">
          <h2>Developer Info</h2>
          <h4>The GCC-INPE's  Team</h4>
          <p>Dr. Saulo Ribeiro de Freitas</p>
            <div class="text-center"><div class="btn-group" role="group">
              <a class="btn btn-lg btn-primary" href="mailto:luflarois@gmail.com"><i class="fa fa-envelope fa-lg"></i></a>
              <a class="btn btn-lg btn-primary" href="[monanadmin (Administração do Modelo MONAN) · GitHub](https://github.com/monanadmin)"><i class="fa fa-github fa-lg"></i></a>
            </div></div>
       </div>
       </div>
      </div>
      <div class="row">
        <div class="col-xs-6 col-sm-3">
              <h3>Source Files</h3>
              <ul>                    <li><a href='./sourcefile/modconvpargf.f90.html'>modConvParGF.F90</a></li>
                    <li><a href='./sourcefile/modgate.f90.html'>modGate.F90</a></li>
                    <li><a href='./sourcefile/modhenryslawcts.f90.html'>modHenrysLawCts.F90</a></li>
                    <li><a href='./sourcefile/testmodconvpargf.f90.html'>testModConvParGF.f90</a></li>
</ul>
          </div>
		  <div class="col-xs-6 col-sm-3">
              <h3>Modules</h3>
              <ul>                    <li><a href='./module/modconvpargf.html'>modConvParGF</a></li>
                    <li><a href='./module/modgate.html'>modGate</a></li>
                    <li><a href='./module/modhenryslawconstants.html'>modHenrysLawConstants</a></li>
</ul>
          </div>
		  <div class="col-xs-6 col-sm-3">
              <h3>Procedures</h3>
              <ul>                    <li><a href='./proc/clouddissipation.html'>cloudDissipation</a></li>
                    <li><a href='./proc/coldpoolstart.html'>ColdPoolStart</a></li>
                    <li><a href='./proc/cupcloudlimits.html'>cupCloudLimits</a></li>
                    <li><a href='./proc/cupddedt.html'>cupDdEdt</a></li>
                    <li><a href='./proc/cupddmoisture.html'>cupDdMoisture</a></li>
                    <li><a href='./proc/cupenv.html'>cupEnv</a></li>
                    <li><a href='./proc/cupenvclev.html'>cupEnvCLev</a></li>
                    <li><a href='./proc/cupenvclevchem.html'>cupEnvClevChem</a></li>
                    <li><a href='./proc/cupforcingens3d.html'>cupForcingEns3d</a></li>
                    <li><a href='./proc/cupforcingens3dmid.html'>cupForcingEns3dMid</a></li>
</ul>
          </div>
		  <div class="col-xs-6 col-sm-3">
              <h3>Derived Types</h3>
              <ul>                    <li><a href='./type/t_cupout_vars.html'>t_cupout_vars</a></li>
                    <li><a href='./type/t_hcts_vars.html'>t_hcts_vars</a></li>
                    <li><a href='./type/t_hcts_vars~2.html'>t_hcts_vars</a></li>
</ul>
          </div>
      </div>
    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-6"><p>GF_standalone was developed by The GCC-INPE's  Team<br>&copy; 2023 CC-GPL3
</p>
        </div>
        <div class="col-xs-6 col-md-6">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
          </p>
        </div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="./js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="./js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script src="./tipuesearch/tipuesearch_content.js"></script>
    <script src="./tipuesearch/tipuesearch_set.js"></script>
    <script src="./tipuesearch/tipuesearch.js"></script>
    
  </body>
</html>